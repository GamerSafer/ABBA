plugins {
    id 'java-library'
}

group "com.github.colebennett.abbacaving"
version "0.1-SNAPSHOT"

repositories {
    mavenCentral()
    maven {
        url = "https://hub.spigotmc.org/nexus/content/repositories/snapshots"

        content {
            includeGroup "org.bukkit"
            includeGroup "org.spigotmc"
        }
    }
    maven { url "https://oss.sonatype.org/content/repositories/snapshots" }
//    maven { url "https://oss.sonatype.org/content/repositories/central" }
//    maven { url "https://maven.enginehub.org/repo" }
//    maven { url "http://repo.mvdw-software.be/content/groups/public" }
}

dependencies {
    implementation "org.mariadb.jdbc:mariadb-java-client:2.1.2"
    implementation "redis.clients:jedis:3.5.1"
    implementation "net.kyori:adventure-text-minimessage:4.0.0-SNAPSHOT"
    implementation "net.kyori:adventure-platform-bukkit:4.0.0-SNAPSHOT"
//    compileOnly "be.maximvdw:MVdWPlaceholderAPI:2.1.1-SNAPSHOT"
//    compileOnly "org.spigotmc:spigot-api:1.15.2-R0.1-SNAPSHOT"
    
    compile fileTree(dir: "lib", include: ["*.jar"])
}

jar {
    archiveBaseName = 'AbbaCaving'
    archiveVersion =  '0.1.0'
}

task fatJar(type: Jar) {
    classifier = 'all'
    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
    with jar
}